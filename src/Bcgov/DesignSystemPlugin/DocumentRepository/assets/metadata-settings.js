/*! For license information please see metadata-settings.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,t,r)=>{var n=r(540),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,c={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,n)&&!s.hasOwnProperty(n)&&(c[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===c[n]&&(c[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:l,props:c,_owner:a.current}}t.jsx=c,t.jsxs=c},287:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function m(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}function g(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var _=b.prototype=new g;_.constructor=b,y(_,m.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,j={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:r,type:e,key:a,ref:s,props:i,_owner:j.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return a=a(c=e),e=""===i?"."+k(c,0):i,x(a)?(o="",null!=e&&(o=e.replace(C,"$&/")+"/"),P(a,t,o,"",(function(e){return e}))):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",x(e))for(var u=0;u<e.length;u++){var l=i+k(s=e[u],u);c+=P(s,t,o,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=P(s=s.value,t,o,l=i+k(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function N(e,t,r){if(null==e)return e;var n=[],o=0;return P(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},T={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,r){N(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=A,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=y({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:r,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,r){return L.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,r){return L.current.useReducer(e,t,r)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return L.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},540:(e,t,r)=>{e.exports=r(287)},848:(e,t,r)=>{e.exports=r(20)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const n=wp.element,o=wp.components,i=wp.i18n,a=wp.apiFetch;var s=r.n(a),c=r(848);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:k(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",y="suspendedYield",v="executing",m="completed",g={};function b(){}function _(){}function x(){}var w={};l(w,a,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(R([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=x.prototype=b.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,r,n){var o=p;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=P(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?m:y,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(u(t)+" is not iterable")}return _.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:_,configurable:!0}),_.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new C(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;D(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function y(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,s,"next",e)}function s(e){y(i,n,o,a,s,"throw",e)}a(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _=void 0!==o.DragDropContext?o.DragDropContext:function(e){return e.children},x=void 0!==o.Droppable?o.Droppable:function(e){return(0,e.children)({droppableProps:{},innerRef:function(){}},{})},w=void 0!==o.Draggable?o.Draggable:function(e){return(0,e.children)({draggableProps:{},dragHandleProps:{},innerRef:function(){}},{})},j={text:(0,i.__)("Text","bcgov-design-system"),select:(0,i.__)("Select","bcgov-design-system"),date:(0,i.__)("Date","bcgov-design-system")};const E=function(){var e=m((0,n.useState)([]),2),t=e[0],r=e[1],a=m((0,n.useState)(!0),2),u=a[0],l=a[1],d=m((0,n.useState)(null),2),y=d[0],g=d[1],b=m((0,n.useState)(!1),2),E=b[0],S=b[1],O=m((0,n.useState)(!1),2),C=O[0],k=O[1],P=m((0,n.useState)({id:"",label:"",type:"text",required:!1,options:[]}),2),N=P[0],D=P[1],L=m((0,n.useState)(!1),2),R=L[0],T=L[1],A=m((0,n.useState)(null),2),I=A[0],q=A[1],F=m((0,n.useState)(null),2),$=F[0],M=F[1],U=window.documentRepositorySettings.apiNamespace;(0,n.useEffect)((function(){var e=function(){var e=v(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s()({path:"/".concat(U,"/metadata-fields")});case 3:t=e.sent,r(t),l(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),g(e.t0.message||(0,i.__)("Error loading metadata fields","bcgov-design-system")),l(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[U]);var B=function(){var e=v(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.id){e.next=3;break}return g((0,i.__)("Field ID is required","bcgov-design-system")),e.abrupt("return");case 3:if(!t.some((function(e){return e.id===N.id}))){e.next=6;break}return g((0,i.__)("A field with this ID already exists","bcgov-design-system")),e.abrupt("return");case 6:return S(!0),e.prev=7,n=[].concat(p(t),[f(f({},N),{},{order:t.length})]),e.next=11,s()({path:"/".concat(U,"/metadata-fields"),method:"PUT",data:{fields:n}});case 11:r(n),k(!1),D({id:"",label:"",type:"text",required:!1,options:[]}),g(null),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),g(e.t0.message||(0,i.__)("Error adding metadata field","bcgov-design-system"));case 20:return e.prev=20,S(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[7,17,20,23]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=v(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.id&&I.label){e.next=3;break}return g((0,i.__)("ID and Label are required","bcgov-design-system")),e.abrupt("return");case 3:if(!t.some((function(e,t){return e.id===I.id&&t!==$}))){e.next=6;break}return g((0,i.__)("A field with this ID already exists","bcgov-design-system")),e.abrupt("return");case 6:return S(!0),e.prev=7,(n=p(t))[$]=I,e.next=12,s()({path:"/".concat(U,"/metadata-fields"),method:"PUT",data:{fields:n}});case 12:r(n),T(!1),q(null),M(null),g(null),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),g(e.t0.message||(0,i.__)("Error saving metadata field","bcgov-design-system"));case 22:return e.prev=22,S(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[7,19,22,25]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=v(h().mark((function e(n){var o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.filter((function(e){return e.id!==n})),e.next=4,s()({path:"/".concat(U,"/metadata-fields"),method:"PUT",data:{fields:o}});case 4:r(o),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(e.t0.message||(0,i.__)("Error deleting metadata field","bcgov-design-system"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e,t){var r=e.target.value;t((function(e){return f(f({},e),{},{_rawOptionsText:r,options:r.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0}))})}))},K=function(e){return void 0!==e._rawOptionsText?e._rawOptionsText:Array.isArray(e.options)?e.options.join("\n"):""};return u?(0,c.jsxs)("div",{className:"metadata-settings-loading",children:[(0,c.jsx)(o.Spinner,{}),(0,c.jsx)("p",{children:(0,i.__)("Loading metadata fields...","bcgov-design-system")})]}):(0,c.jsxs)("div",{className:"metadata-settings",children:[y&&(0,c.jsx)(o.Notice,{status:"error",isDismissible:!1,children:(0,c.jsx)("p",{children:y})}),(0,c.jsxs)(o.Card,{children:[(0,c.jsxs)(o.CardHeader,{children:[(0,c.jsx)("h2",{children:(0,i.__)("Document Metadata Fields","bcgov-design-system")}),(0,c.jsx)(o.Button,{variant:"primary",onClick:function(){return k(!0)},disabled:E,children:(0,i.__)("Add New Field","bcgov-design-system")})]}),(0,c.jsxs)(o.CardBody,{children:[(0,c.jsx)("div",{className:"metadata-fields-info",children:(0,c.jsx)("p",{children:(0,i.__)("Customize the metadata fields that will be available for documents. Drag and drop to reorder fields.","bcgov-design-system")})}),0===t.length?(0,c.jsx)("div",{className:"no-fields-message",children:(0,c.jsx)("p",{children:(0,i.__)('No custom metadata fields defined yet. Click "Add New Field" to create one.',"bcgov-design-system")})}):(0,c.jsx)(_,{onDragEnd:function(e){if(e.destination){var n=p(t),o=m(n.splice(e.source.index,1),1)[0];n.splice(e.destination.index,0,o);var i=n.map((function(e,t){return f(f({},e),{},{order:t})}));r(i)}},children:(0,c.jsx)(x,{droppableId:"metadata-fields",children:function(e){return(0,c.jsxs)("div",f(f({className:"metadata-fields-list"},e.droppableProps),{},{ref:e.innerRef,children:[t.map((function(e,t){return(0,c.jsx)(w,{draggableId:e.id,index:t,children:function(r){return(0,c.jsxs)("div",f(f(f({className:"metadata-field-item",ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:[(0,c.jsxs)("div",{className:"metadata-field-info",children:[(0,c.jsx)("h3",{children:e.label}),(0,c.jsxs)("div",{className:"metadata-field-details",children:[(0,c.jsxs)("span",{className:"metadata-field-id",children:["ID: ",e.id]}),(0,c.jsx)("span",{className:"metadata-field-type",children:j[e.type]}),e.required&&(0,c.jsx)("span",{className:"metadata-field-required",children:(0,i.__)("Required","bcgov-design-system")})]})]}),(0,c.jsxs)("div",{className:"metadata-field-actions",children:[(0,c.jsx)(o.Button,{variant:"secondary",onClick:function(){return function(e,t){q(f({},e)),M(t),T(!0)}(e,t)},children:(0,i.__)("Edit","bcgov-design-system")}),(0,c.jsx)(o.Button,{variant:"secondary",isDestructive:!0,onClick:function(){return V(e.id)},disabled:E,children:(0,i.__)("Delete","bcgov-design-system")})]})]}))}},e.id)})),e.placeholder]}))}})})]})]}),C&&(0,c.jsx)(o.Modal,{title:(0,i.__)("Add New Metadata Field","bcgov-design-system"),onRequestClose:function(){return k(!1)},className:"metadata-field-modal",isDismissible:!0,shouldCloseOnClickOutside:!0,shouldCloseOnEsc:!0,children:(0,c.jsxs)("div",{className:"metadata-field-form",onKeyDown:function(e){"TEXTAREA"===e.target.tagName&&e.stopPropagation()},children:[(0,c.jsx)(o.TextControl,{label:(0,i.__)("Field ID","bcgov-design-system"),help:(0,i.__)("Unique identifier for the field (lowercase, no spaces)","bcgov-design-system"),value:N.id,onChange:function(e){return D((function(t){return f(f({},t),{},{id:e.toLowerCase().replace(/\s+/g,"_")})}))},required:!0}),(0,c.jsx)(o.TextControl,{label:(0,i.__)("Field Label","bcgov-design-system"),help:(0,i.__)("Display name for the field","bcgov-design-system"),value:N.label,onChange:function(e){return D((function(t){return f(f({},t),{},{label:e})}))},required:!0}),(0,c.jsx)(o.SelectControl,{label:(0,i.__)("Field Type","bcgov-design-system"),value:N.type,options:Object.entries(j).map((function(e){var t=m(e,2);return{value:t[0],label:t[1]}})),onChange:function(e){return D((function(t){return f(f({},t),{},{type:e})}))}}),"select"===N.type&&(0,c.jsxs)("div",{className:"field-options",children:[(0,c.jsx)("label",{htmlFor:"field-options",children:(0,i.__)("Options","bcgov-design-system")}),(0,c.jsx)("p",{className:"field-options-help",children:(0,i.__)("Enter each option on a new line:","bcgov-design-system")}),(0,c.jsxs)("div",{className:"field-options-example",children:[(0,i.__)("Example:","bcgov-design-system")," ",(0,c.jsx)("br",{}),"Draft",(0,c.jsx)("br",{}),"In Review",(0,c.jsx)("br",{}),"Approved",(0,c.jsx)("br",{}),"Archived"]}),(0,c.jsx)("textarea",{id:"field-options",value:K(N),onChange:function(e){return H(e,D)},onKeyDown:function(e){"Enter"===e.key&&e.stopPropagation(),"Tab"===e.key&&e.preventDefault()},rows:5,placeholder:(0,i.__)("Enter your options here...","bcgov-design-system")})]}),(0,c.jsx)(o.CheckboxControl,{label:(0,i.__)("Required","bcgov-design-system"),help:(0,i.__)("Make this field required when uploading documents","bcgov-design-system"),checked:N.required,onChange:function(e){return D((function(t){return f(f({},t),{},{required:e})}))}}),(0,c.jsxs)("div",{className:"metadata-field-actions",children:[(0,c.jsx)(o.Button,{variant:"secondary",onClick:function(){return k(!1)},children:(0,i.__)("Cancel","bcgov-design-system")}),(0,c.jsx)(o.Button,{variant:"primary",onClick:B,children:(0,i.__)("Add Field","bcgov-design-system")})]})]})}),R&&I&&(0,c.jsx)(o.Modal,{title:(0,i.__)("Edit Metadata Field","bcgov-design-system"),onRequestClose:function(){return T(!1)},className:"metadata-field-modal",isDismissible:!0,shouldCloseOnClickOutside:!0,shouldCloseOnEsc:!0,children:(0,c.jsxs)("div",{className:"metadata-field-form",onKeyDown:function(e){"TEXTAREA"===e.target.tagName&&e.stopPropagation()},children:[(0,c.jsx)(o.TextControl,{label:(0,i.__)("Field ID","bcgov-design-system"),help:(0,i.__)("Unique identifier for the field (lowercase, no spaces)","bcgov-design-system"),value:I.id,onChange:function(e){return q((function(t){return f(f({},t),{},{id:e.toLowerCase().replace(/\s+/g,"_")})}))},required:!0,disabled:!0}),(0,c.jsx)(o.TextControl,{label:(0,i.__)("Field Label","bcgov-design-system"),help:(0,i.__)("Display name for the field","bcgov-design-system"),value:I.label,onChange:function(e){return q((function(t){return f(f({},t),{},{label:e})}))},required:!0}),(0,c.jsxs)("div",{className:"field-type-display",children:[(0,c.jsx)("label",{children:(0,i.__)("Field Type","bcgov-design-system")}),(0,c.jsx)("div",{className:"field-type-value",children:j[I.type]})]}),"select"===I.type&&(0,c.jsxs)("div",{className:"field-options",children:[(0,c.jsx)("label",{htmlFor:"field-options-edit",children:(0,i.__)("Options","bcgov-design-system")}),(0,c.jsx)("p",{className:"field-options-help",children:(0,i.__)("Enter each option on a new line:","bcgov-design-system")}),(0,c.jsxs)("div",{className:"field-options-example",children:[(0,i.__)("Example:","bcgov-design-system")," ",(0,c.jsx)("br",{}),"Draft",(0,c.jsx)("br",{}),"In Review",(0,c.jsx)("br",{}),"Approved",(0,c.jsx)("br",{}),"Archived"]}),(0,c.jsx)("textarea",{id:"field-options-edit",value:K(I),onChange:function(e){return H(e,q)},onKeyDown:function(e){"Enter"===e.key&&e.stopPropagation(),"Tab"===e.key&&e.preventDefault()},rows:5,placeholder:(0,i.__)("Enter your options here...","bcgov-design-system")})]}),(0,c.jsx)(o.CheckboxControl,{label:(0,i.__)("Required","bcgov-design-system"),help:(0,i.__)("Make this field required when uploading documents","bcgov-design-system"),checked:I.required,onChange:function(e){return q((function(t){return f(f({},t),{},{required:e})}))}}),(0,c.jsxs)("div",{className:"metadata-field-actions",children:[(0,c.jsx)(o.Button,{variant:"secondary",onClick:function(){return T(!1)},children:(0,i.__)("Cancel","bcgov-design-system")}),(0,c.jsx)(o.Button,{variant:"primary",onClick:G,children:(0,i.__)("Save Field","bcgov-design-system")})]})]})})]})};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("document-repository-metadata-app");e&&(0,n.render)((0,c.jsx)(E,{}),e)}))})();
//# sourceMappingURL=metadata-settings.js.map